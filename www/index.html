<html>
  <head>
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png" />
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png" />
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png" />
    <link rel="manifest" href="site.webmanifest" />
  </head>
  <body>
    <form>
      <div>
        <label>Time (mins) <input id="minutesInput" type="number"/></label>
      </div>
      <div>
        <label>Distance (km) <input id="distanceInput" type="number"/></label>
      </div>
      <button id="calculateButton">Go</button>
    </form>
    <pre id="results"></pre>
  </body>
  <script type="module">
    import { computeCosts } from '../car-share-fare.es.production.js';

    const button = document.querySelector('#calculateButton');
    button.addEventListener('click', calculate);

    const minutes = document.querySelector('#minutesInput');
    const distance = document.querySelector('#distanceInput');
    const results = document.querySelector('#results');

    function calculate(event) {
      event.preventDefault();
      const costs = computeCosts(minutes.value, distance.value);
      const formatted = Object.keys(costs).map(key => {
        return { key, cost: parseFloat(costs[key]).toFixed(2) };
      });
      results.innerHTML = JSON.stringify(formatted, null, 2);
    }
  </script>
</html>
